import java.io.File;
import java.io.IOException;
import java.util.ArrayList;


public class HVDirectoryWriter {
	
	private static String nl = System.lineSeparator();

	public static void write(String path){
		
		ArrayList<HVArticle> articles = HVDirectoryReader.readDirectory(path);
		String json = "{" + nl;
		json += "\t"+"articles:[" + nl;
		
		for (int i = 0; i < articles.size(); i++) {
			json += articles.get(i).toJSON();
			if(i != articles.size() - 1){
				json += ",";
			}
			json += nl;
		}
		
		json += "\t" + "]";
		json += "}";
		
		File oldDirectory = new File(path +  "/directory.json");
		try {
			System.out.println("deleted "+ oldDirectory.getCanonicalPath());
		} catch (IOException e) {
			e.printStackTrace();
		}
		//oldDirectory.delete();
		
		System.out.println(json);
	}
}
